{% extends 'layout.html' %}{% block content %}<div class='d-flex align-items-center mb-3'><h1 class='h4 mb-0'>商品管理</h1><a class='btn btn-success ms-auto' href='{{ url_for('admin_product_new') }}'>＋ 新增商品</a></div><div class='table-responsive'><table class='table align-middle'><thead><tr><th>ID</th><th>圖片</th><th>名稱</th><th>類別</th><th>款式</th><th>價格</th><th>操作</th></tr></thead><tbody>{% for p in products %}<tr><td>{{ p.id }}</td><td style='width:100px'>{% if p.image_filename %}<img src='{{ url_for('static', filename='uploads/' ~ p.image_filename) }}' class='img-thumbnail' alt='{{ p.name }}'>{% else %}<img src='https://via.placeholder.com/120x90?text=No+Image' class='img-thumbnail' alt='No Image'>{% endif %}</td><td>{{ p.name }}</td><td>{{ p.category.name if p.category else '-' }}</td><td>{{ p.style.name if p.style else '-' }}</td><td>NT$ {{ p.price_display }}</td><td class='text-nowrap'><a class='btn btn-sm btn-outline-primary' href='{{ url_for('admin_product_edit', product_id=p.id) }}'>編輯</a><a class='btn btn-sm btn-outline-secondary' href='{{ url_for('admin_variants', product_id=p.id) }}'>規格</a><form class='d-inline' method='post' action='{{ url_for('admin_product_delete', product_id=p.id) }}' onsubmit="return confirm('確定刪除？');"><button class='btn btn-sm btn-outline-danger'>刪除</button></form></td></tr>{% endfor %}{% if not products %}<tr><td colspan='7' class='text-center text-muted'>尚無商品</td></tr>{% endif %}</tbody></table></div>{% endblock %}
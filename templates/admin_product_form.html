{% extends 'layout.html' %}{% block content %}<h1 class='h4 mb-3'>{{ '編輯商品' if product else '新增商品' }}</h1><form method='post' enctype='multipart/form-data' class='row g-3'><div class='col-12'><label class='form-label'>商品名稱</label><input type='text' name='name' class='form-control' value='{{ product.name if product else '' }}' required></div><div class='col-sm-4 col-12'><label class='form-label'>價格（NT$）</label><input type='number' step='0.01' name='price' class='form-control' value='{{ product.price_display if product else '' }}' required></div><div class='col-sm-4 col-12'><label class='form-label'>類別（可選）</label><select name='category_id' class='form-select'><option value=''>— 不指定 —</option>{% for c in categories %}<option value='{{ c.id }}' {% if product and product.category_id==c.id %}selected{% endif %}>{{ c.name }}</option>{% endfor %}</select></div><div class='col-sm-4 col-12'><label class='form-label'>款式（可選）</label><select name='style_id' class='form-select'><option value=''>— 不指定 —</option>{% for s in styles %}<option value='{{ s.id }}' {% if product and product.style_id==s.id %}selected{% endif %}>{{ s.name }} {% if s.category %}（{{ s.category.name }}）{% endif %}</option>{% endfor %}</select><div class='form-text'>建議選擇與類別對應的款式。</div></div><div class='col-12'><label class='form-label'>描述</label><textarea name='description' rows='5' class='form-control'>{{ product.description if product else '' }}</textarea></div><div class='col-12'><label class='form-label'>商品圖片</label><input type='file' name='image' accept='image/*' class='form-control'>{% if product and product.image_filename %}<div class='form-text'>目前圖片：{{ product.image_filename }}</div>{% endif %}</div><div class='col-12 d-flex gap-2'><button class='btn btn-primary'>{{ '儲存' if product else '建立' }}</button><a class='btn btn-outline-secondary' href='{{ url_for('admin_products') }}'>返回</a></div></form>{% endblock %}